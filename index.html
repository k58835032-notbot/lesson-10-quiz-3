<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Romaji ‚Üí Hiragana Quiz (Long Vowels)</title>

<style>
  body {
    font-family: "Hiragino Kaku Gothic Pro", "Meiryo", sans-serif;
    background:#fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:40px;
    text-align:center;
    color:#333;
  }
  h1 { color:#b23b3b; margin-bottom:10px; }
  #counter { margin-bottom:20px; font-size:1.1em; }

  #game-box {
    background:#fff;
    border-radius:15px;
    box-shadow:0 4px 12px rgba(0,0,0,.15);
    padding:30px;
    width:90%;
    max-width:500px;
  }

  #romaji { font-size:2.4em; margin:20px 0; letter-spacing:1px; }

  .option {
    display:block;
    background:#ffeaea;
    border:none;
    border-radius:10px;
    padding:12px;
    font-size:1.3em;
    width:100%;
    max-width:260px;
    margin:10px auto;
    cursor:pointer;
  }

  .option:hover { background:#f7b6b6; }

  #message { margin-top:20px; font-weight:bold; font-size:1.2em; }
  <div id="message"></div>
<div id="motivation"></div>
<div id="gif-box"></div>


  #next {
    display:none;
    margin-top:20px;
    background:#b23b3b;
    color:white;
    border:none;
    border-radius:10px;
    padding:10px 20px;
    font-size:1.1em;
    cursor:pointer;
  }

  #gif-box { margin-top:20px; }
  #gif-box img { max-width:220px; border-radius:12px; }
</style>
</head>

<body>

<h1>Pronunciation ‚Üí Hiragana</h1>
<div id="counter"></div>

<div id="game-box">
  <div id="romaji"></div>
  <div id="options"></div>
  <div id="message"></div>
  <div id="gif-box"></div>
  <button id="next" onclick="nextQuestion()">Next</button>
</div>

<script>
/* ========= QUESTION POOL (50) ========= */
const ALL_QUESTIONS = [

  // ---- „ÇÜ„ÅÜ (y≈´) ----
  { romaji:"y≈´gata", kana:"„ÇÜ„ÅÜ„Åå„Åü", distractors:["„ÇÜ„Åå„Åü","„ÇÜ„ÅÜ„Åã„Åü","„ÇÜ„Å£„Åå„Åü"] },
  { romaji:"y≈´mei", kana:"„ÇÜ„ÅÜ„ÇÅ„ÅÑ", distractors:["„ÇÜ„ÇÅ„ÅÑ","„ÇÜ„ÅÜ„ÇÅ","„ÇÜ„Å£„ÇÅ„ÅÑ"] },
  { romaji:"y≈´bin", kana:"„ÇÜ„ÅÜ„Å≥„Çì", distractors:["„ÇÜ„Å≥„Çì","„ÇÜ„ÅÜ„Å≤„Çì","„ÇÜ„Å£„Å≥„Çì"] },
  { romaji:"y≈´jin", kana:"„ÇÜ„ÅÜ„Åò„Çì", distractors:["„ÇÜ„Åò„Çì","„ÇÜ„ÅÜ„Åó„Çì","„ÇÜ„Å£„Åò„Çì"] },
  { romaji:"y≈´enchi", kana:"„ÇÜ„ÅÜ„Åà„Çì„Å°", distractors:["„ÇÜ„Åà„Çì„Å°","„ÇÜ„ÅÜ„Åà„Å°","„ÇÜ„Å£„Åà„Çì„Å°"] },
  { romaji:"y≈´k≈ç", kana:"„ÇÜ„ÅÜ„Åì„ÅÜ", distractors:["„ÇÜ„Åì„ÅÜ","„ÇÜ„ÅÜ„Åì","„ÇÜ„Å£„Åì„ÅÜ"] },
  { romaji:"y≈´ki", kana:"„ÇÜ„ÅÜ„Åç", distractors:["„ÇÜ„Åç","„ÇÜ„ÅÜ„Åé","„ÇÜ„Å£„Åç"] },
  { romaji:"y≈´sh≈ç", kana:"„ÇÜ„ÅÜ„Åó„Çá„ÅÜ", distractors:["„ÇÜ„Åó„Çá„ÅÜ","„ÇÜ„ÅÜ„Åó„Çá","„ÇÜ„Å£„Åó„Çá„ÅÜ"] },
  { romaji:"y≈´d≈ç", kana:"„ÇÜ„ÅÜ„Å©„ÅÜ", distractors:["„ÇÜ„Å©„ÅÜ","„ÇÜ„ÅÜ„Å®","„ÇÜ„Å£„Å©„ÅÜ"] },
  { romaji:"y≈´yake", kana:"„ÇÜ„ÅÜ„ÇÑ„Åë", distractors:["„ÇÜ„ÇÑ„Åë","„ÇÜ„ÅÜ„Åë","„ÇÜ„Å£„ÇÑ„Åë"] },

  // ---- „Çà„ÅÜ (y≈ç) ----
  { romaji:"y≈çfuku", kana:"„Çà„ÅÜ„Åµ„Åè", distractors:["„Çà„Åµ„Åè","„Çà„ÅÜ„Åµ","„Çà„Å£„Åµ„Åè"] },
  { romaji:"y≈çsu", kana:"„Çà„ÅÜ„Åô", distractors:["„Çà„Åô","„Çà„ÅÜ„Åö","„Çà„Å£„Åô"] },
  { romaji:"y≈çi", kana:"„Çà„ÅÜ„ÅÑ", distractors:["„Çà„ÅÑ","„Çà„ÅÜ","„Çà„Å£„ÅÑ"] },
  { romaji:"y≈çji", kana:"„Çà„ÅÜ„Åò", distractors:["„Çà„Åò","„Çà„ÅÜ„Åó","„Çà„Å£„Åò"] },
  { romaji:"y≈çchien", kana:"„Çà„ÅÜ„Å°„Åà„Çì", distractors:["„Çà„Å°„Åà„Çì","„Çà„ÅÜ„Åà„Çì","„Çà„Å£„Å°„Åà„Çì"] },
  { romaji:"y≈çki", kana:"„Çà„ÅÜ„Åç", distractors:["„Çà„Åç","„Çà„ÅÜ„Åé","„Çà„Å£„Åç"] },
  { romaji:"y≈çsei", kana:"„Çà„ÅÜ„Åõ„ÅÑ", distractors:["„Çà„Åõ„ÅÑ","„Çà„ÅÜ„Åõ","„Çà„Å£„Åõ„ÅÑ"] },
  { romaji:"y≈çb≈ç", kana:"„Çà„ÅÜ„Åº„ÅÜ", distractors:["„Çà„Åº„ÅÜ","„Çà„ÅÜ„Åª„ÅÜ","„Çà„Å£„Åº„ÅÜ"] },
  { romaji:"y≈çshi", kana:"„Çà„ÅÜ„Åó", distractors:["„Çà„Åó","„Çà„ÅÜ„Åò","„Çà„Å£„Åó"] },
  { romaji:"y≈çten", kana:"„Çà„ÅÜ„Å¶„Çì", distractors:["„Çà„Å¶„Çì","„Çà„ÅÜ„Åß„Çì","„Çà„Å£„Å¶„Çì"] }

];


/* ========= GAME SETUP ========= */
const TOTAL_PER_GAME = 25;

function shuffle(arr) {
  return arr.sort(() => Math.random() - 0.5);
}

// pick random 25 questions
const questions = shuffle([...ALL_QUESTIONS]).slice(0, TOTAL_PER_GAME);

let currentIndex = 0;
let score = 0;

/* ========= DOM ========= */
const romajiEl = document.getElementById("romaji");
const optionsEl = document.getElementById("options");
const messageEl = document.getElementById("message");
const motivationEl = document.getElementById("motivation");
const nextBtn = document.getElementById("next");
const counterEl = document.getElementById("counter");
const gifBox = document.getElementById("gif-box");

/* ========= GAME LOGIC ========= */
function showQuestion() {
  const q = questions[currentIndex];

  counterEl.textContent = `Question ${currentIndex + 1} / ${questions.length}`;
  romajiEl.textContent = q.romaji;
  messageEl.textContent = "";
  nextBtn.style.display = "none";
  gifBox.innerHTML = "";

  const options = shuffle([q.kana, ...q.distractors]);
  optionsEl.innerHTML = "";

  options.forEach(opt => {
    const btn = document.createElement("button");
    btn.className = "option";
    btn.textContent = opt;
    btn.onclick = () => checkAnswer(opt);
    optionsEl.appendChild(btn);
  });
}

function checkAnswer(choice) {
  const correct = questions[currentIndex].kana;

  if (choice === correct) {
    messageEl.textContent = "‚úÖ Correct!";
    messageEl.style.color = "#2e7d32";
    score++;
  } else {
    messageEl.textContent = `‚ùå Correct answer: ${correct}`;
    messageEl.style.color = "#b23b3b";
  }

  nextBtn.style.display = "inline-block";
  document.querySelectorAll(".option").forEach(b => b.disabled = true);
}

function nextQuestion() {
  currentIndex++;
  currentIndex < questions.length ? showQuestion() : finishGame();
}

function finishGame() {
  romajiEl.textContent = "üéâ Finished!";
  counterEl.textContent = "";
  optionsEl.innerHTML = "";

 let motivationText = "";
  let gif = "";

  if (score >= 21) {
    motivationText = "üåü Well done! You are spelling & pronunciation master!";
    gif = "https://raw.githubusercontent.com/k58835032-notbot/lesson-9-morae/main/cool%20cute%20cat.gif";
  } else if (score >= 12) {
    motivationText = "üëç You're getting there! Keep practicing!";
    gif = "https://raw.githubusercontent.com/k58835032-notbot/lesson-9-morae/main/cute%20cat%20walking.gif";
  } else {
    motivationText = "üå± Keep practicing ‚Äî every try matters!";
    gif = "https://raw.githubusercontent.com/k58835032-notbot/lesson-9-morae/main/sad%20cute%20cat.gif";
  }

  messageEl.innerHTML = `Score: ${score} / ${questions.length}`;
  motivationEl.textContent = motivationText;
  gifBox.innerHTML = `<img src="${gif}" alt="cat gif">`;
}

showQuestion();
</script>

</body>
</html>
